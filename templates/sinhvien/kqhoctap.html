{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Sinh viên</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body>

<div class="dashboard-wrapper">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-logo">
           <!-- <img src="{% static 'img/logo.png' %}" alt="Logo">-->
            <span>QUẢN LÝ HOẠT ĐỘNG CỐ VẤN HỌC TẬP</span>
        </div>

       <ul class="sidebar-menu">
        <li>
            <a href="{% url 'dashboard' %}" class="active">Trang chủ</a>

            </li>
        <li><a href="{% url 'sinhvien' %}" class="sinhvien">Sinh viên</a></li>
        <li>Lịch tư vấn</li>
        <li>Thông báo</li>
        <li>Thống kê</li>
        <li><a href="{% url 'logout' %}" class="logout">Đăng xuất</a></li>
        </ul>

    </aside>

    <!-- MAIN -->
    <main class="main-content">
<header class="main-header">
    <div></div> <!-- giữ layout cân 2 bên -->
    <div class="user-box">
        <span>Xin chào, {{ request.user.get_full_name|default:request.user.username }}</span>
    </div>
</header>


        <!-- STATS -->
       <div class="row g-4 mb-4">
    <div class="col-md-4">
        <div class="stat-card blue">
            <h6>Sinh viên</h6>
            <h3>320</h3>
        </div>
    </div>

    <div class="col-md-4">
        <div class="stat-card purple">
            <h6>Lịch tư vấn</h6>
            <h3>58</h3>
        </div>
    </div>

    <div class="col-md-4">
        <div class="stat-card light">
            <h6>Thông báo</h6>
            <h3>12</h3>
        </div>
    </div>
</div>
<div class="content-box mt-4">

    <div class="d-flex align-items-center gap-3 mb-3">
        <a href="javascript:history.back()" class="btn btn-outline-secondary btn-sm">
            ← Quay lại
        </a>
        <h5 class="mb-0">Kết quả các môn học</h5>
    </div>

    <p class="text-muted mb-3">
        Sinh viên: <strong>{{ sinhvien.ho_ten }}</strong> ({{ sinhvien.ma_sv }})
    </p>

    <table class="table table-hover align-middle">
        <thead class="table-light">
            <tr>
                <th>Môn học</th>
                <th>Học kỳ</th>
                <th>Điểm quá trình</th>
                <th>Điểm thi</th>
                <th>Điểm tổng kết</th>
                <th>Kết quả</th>
            </tr>
        </thead>
        <tbody>
            {% for kq in KetQuaMonHoc %}
            <tr>
                <td>{{ kq.mon_hoc.ten_mon }}</td>
                <td>{{ kq.hoc_ky.ten_hoc_ky }}</td>
                <td>{{ kq.diem_qua_trinh }}</td>
                <td>{{ kq.diem_thi }}</td>
                <td>{{ kq.diem_tong_ket }}</td>
                <td>
                    {% if kq.ket_qua == "Đạt" %}
                        <span class="badge bg-success">Đạt</span>
                    {% else %}
                        <span class="badge bg-danger">Chưa đạt</span>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center text-muted">
                    Chưa có dữ liệu kết quả học tập
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

</body>
</html>
